@model IEnumerable<HospitalManagementSystem.Models.Patient>

<p>
    @Html.ActionLink("Nouveau", "Create",null, htmlAttributes: new { @class="btn btn-success m-r-5 m-b-5" })
</p>
<table id="data-table" class="table table-striped table-bordered nowrap" width="100%">
    <thead>
        <tr>

            <th>
                Nom et Prénom
            </th>
            <th>
                @Html.DisplayNameFor(model => model.DateNaissance)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Adresse)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Telephone)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Email)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Sexe)
            </th>

            <th>
                Action
            </th>
        </tr>
    </thead>
    @foreach (var item in Model)
    {
        <tr>

            <td>
                @Html.DisplayFor(modelItem => item.NomComplet)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DateNaissance)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Adresse)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Telephone)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Email)
            </td>
            <td>
                @if (item.Sexe == 0)
                {
                    <div>Masculin</div>
                }
                else
                {
                    <div>Feminin</div>
                }
            </td>

            <td>
                @*@Html.ActionLink("Edit", "Edit", new { id = item.Code }) |
                @Html.ActionLink("Details", "Details", new { id = item.Code }) |*@
                @*@Html.ActionLink("Supp", "Delete", new { id = item.Code })*@

                <a href="#IdModalParametre" onclick="setCodePatient('@item.Code')"  class="btn btn-sm btn-success" data-toggle="modal">Param</a>

                @*<a href="#modal-Fiche" onclick="setCodePatient_f('@item.Code')" class="btn btn-sm btn-success" data-toggle="modal">Fiche</a>*@
            </td>


        </tr>


    }

</table>



    <!-- #modal-Enregistrement des paramètre -->
    <div class="modal fade" id="IdModalParametre">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title">Paramètre du patient</h4>
                </div>
                <div class="modal-body">
                    <div class="modal-body">
                        <div>
                            <div col-md-2>

                            </div>
                            <div col-md-8 id="dataContainer">
                                @{ Html.RenderAction("Part_Create", "Parametre");}
                            </div>
                            <div col-md-2>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    @*<a href="javascript:;" class="btn btn-sm btn-white" data-dismiss="modal">Annuler</a>*@
                    @*<a href="javascript:;" class="btn btn-sm btn-success">Valider</a>*@
                </div>
            </div>
        </div>
    </div>


<!-- #modal-Enregistrement des Fiche de malade -->
<div class="modal fade" id="modal-Fiche">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title">Fiche du patient</h4>
            </div>
            <div class="modal-body">
                <div class="modal-body">
                    <div>
                        <div col-md-2>

                        </div>
                        <div col-md-8 id="dataContainer">
                            @{ Html.RenderAction("Part_Create", "Sec_Fiche");}
                        </div>
                        <div col-md-2>

                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <a href="javascript:;" class="btn btn-sm btn-white" data-dismiss="modal">Annuler</a>
                <a href="javascript:;" class="btn btn-sm btn-success">Valider</a>
            </div>
        </div>
    </div>
</div>

<script>
    //assigne le code du patient pour l'enregistrement des paramettre
    var setCodePatient = function (Code) {

        $("#Code_Patient").val(Code);


    }

    //assigne le code du patient pour l'enregistrement des fiche
    var setCodePatient_f = function (Code) {

        $("#Code_Patient_f").val(Code);

    }

    

</script>

